import j,{useMemo as Ne,useRef as Ie,useState as Me}from"react";var N=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",". .... ....",0],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) ........."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["C\xF4te d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Cura\xE7ao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1","",2],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251"],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49",".... ........"],["Ghana","gh","233"],["Greece","gr","30"],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",".. ........"],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63",".... ......."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","",3],["Qatar","qa","974"],["R\xE9union","re","262"],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["S\xE3o Tom\xE9 and Pr\xEDncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","(...) ...-..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]];var he="react-international-phone-",ne=(...t)=>t.filter(e=>!!e).join(" ").trim(),ge=(...t)=>ne(...t).split(" ").map(e=>`${he}${e}`).join(" "),v=({addPrefix:t,rawClassNames:e})=>ne(ge(...t),...e);var ae=({value:t,mask:e,maskSymbol:r,offset:a=0,trimNonMaskCharsLeftover:n=!1})=>{if(t.length<a)return t;let i=t.slice(0,a),c=t.slice(a),o=i,l=0;for(let s of e.split("")){if(l>=c.length){if(!n&&s!==r){o+=s;continue}break}s===r?(o+=c[l],l+=1):o+=s}return o};var $=t=>t.replace(/\D/g,"");var ie=(t,e)=>{let r=t.style.display;r!=="block"&&(t.style.display="block");let a=t.getBoundingClientRect(),n=e.getBoundingClientRect(),i=n.top-a.top,c=a.bottom-n.bottom;i>=0&&c>=0||(Math.abs(i)<Math.abs(c)?t.scrollTop+=i:t.scrollTop-=c),t.style.display=r};var be=t=>{let{name:e,iso2:r,dialCode:a,format:n,priority:i,areaCodes:c}=t,o=[e,r,a,n,i,c];for(let l=0;l<o.length;l+=1){if(l===0)continue;let s=o[l-1],p=o[l];if(s===void 0&&p!==void 0){let u=JSON.stringify(o,(x,C)=>C===void 0?"__undefined":C).replace(/"__undefined"/g,"undefined");throw new Error(`[react-international-phone] invalid country values passed to buildCountryData. Check ${s} in: ${u}`)}}return o.filter(l=>l!==void 0)};var D=t=>{let[e,r,a,n,i,c]=t;return{name:e,iso2:r,dialCode:a,format:n,priority:i,areaCodes:c}};var we=t=>`Field "${t}" is not supported`,M=({field:t,value:e,countries:r=N})=>{if(["priority"].includes(t))throw new Error(we(t));let a=r.find(n=>{let i=D(n);return e===i[t]});if(a)return D(a)};var O=({phone:t,countries:e=N,currentCountryIso2:r})=>{let a={country:void 0,fullDialCodeMatch:!1};if(!t)return a;let n=$(t);if(!n)return a;let i=a,c=({country:o,fullDialCodeMatch:l})=>{let s=o.dialCode===i.country?.dialCode,p=(o.priority??0)<(i.country?.priority??0);(!s||p)&&(i={country:o,fullDialCodeMatch:l})};for(let o of e){let l=D(o),{dialCode:s,areaCodes:p}=l;if(n.startsWith(s)){let u=i.country?Number(s)>=Number(i.country.dialCode):!0;if(p){let x=n.substring(s.length);for(let C of p)if(x.startsWith(C))return{country:l,fullDialCodeMatch:!0}}(u||s===n||!i.fullDialCodeMatch)&&c({country:l,fullDialCodeMatch:!0})}i.fullDialCodeMatch||n.length<s.length&&s.startsWith(n)&&(!i.country||Number(s)<=Number(i.country.dialCode))&&c({country:l,fullDialCodeMatch:!1})}if(r){let o=M({value:r,field:"iso2",countries:e});if(!o)return i;let s=o?(u=>{if(!u?.areaCodes)return!1;let x=n.substring(u.dialCode.length);return u.areaCodes.some(C=>C.startsWith(x))})(o):!1;!!i&&i.country?.dialCode===o.dialCode&&i.country!==o&&i.fullDialCodeMatch&&(!o.areaCodes||s)&&(i={country:o,fullDialCodeMatch:!0})}return i};var q=({phone:t,dialCode:e,prefix:r="+",charAfterDialCode:a=" "})=>{if(!t||!e)return t;let n=t;return n.startsWith(r)&&(n=n.replace(r,"")),n.startsWith(e)?(n=n.replace(e,""),n.startsWith(a)&&(n=n.replace(a,"")),n):t};var se=({phone:t,dialCode:e,prefix:r="+",charAfterDialCode:a=" "})=>`${r}${e}${a}${q({phone:t,dialCode:e,charAfterDialCode:a,prefix:r})}`;var le=(t,e)=>{let r=e.disableDialCodeAndPrefix?!1:e.forceDialCode,a=e.disableDialCodeAndPrefix?!1:e.insertDialCodeOnEmpty,n=t,i=s=>e.trimNonDigitsEnd?s.trim():s;if(!n)return a&&!n.length||r?i(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`):i(n);if(n=$(n),n===e.dialCode&&!e.disableDialCodeAndPrefix)return i(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(e.dialCode.startsWith(n)&&!e.disableDialCodeAndPrefix)return i(r?`${e.prefix}${e.dialCode}${e.charAfterDialCode}`:`${e.prefix}${n}`);if(!n.startsWith(e.dialCode)&&!e.disableDialCodeAndPrefix){if(r)return i(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(n.length<e.dialCode.length)return i(`${e.prefix}${n}`)}let c=()=>{let s=e.dialCode.length;e.disableDialCodeAndPrefix&&(s=0);let p=n.slice(0,s),u=n.slice(s);return{phoneLeftSide:p,phoneRightSide:u}},{phoneLeftSide:o,phoneRightSide:l}=c();return o=`${e.prefix}${o}${e.charAfterDialCode}`,l=ae({value:l,mask:e.mask,maskSymbol:e.maskChar,trimNonMaskCharsLeftover:e.trimNonDigitsEnd}),e.disableDialCodeAndPrefix&&(o=""),i(`${o}${l}`)};var H=t=>/\d/.test(t),de=({phoneBeforeInput:t,phoneAfterInput:e,phoneAfterFormatted:r,cursorPositionAfterInput:a,leftOffset:n=0,deletion:i})=>{if(a<n)return n;if(!t)return r.length;let c=i==="backward";if(a===0&&e.length>0&&r.length>0){if(c)return 0;for(let u=0;u<r.length;u+=1)if(H(r[u]))return u;return r.length}if(e.length<t.length&&e.length===1)return r.length;let o=null;for(let u=a-1;u>=0;u-=1)if(H(e[u])){o=u;break}if(o===null)return a!==0?a:r.length;let l=0;for(let u=0;u<o;u+=1)H(e[u])&&(l+=1);c&&(l-=1);let s=0,p=0;for(let u=0;u<r.length&&(s+=1,H(r[u])&&(p+=1),p!==l+1);u+=1);for(;!H(r[s])&&s<r.length;)s+=1;return c&&(s+=1),s};import ue from"react";var ve=(t,e)=>{let r=parseInt(t,16);return Number(r+e).toString(16)},xe="abcdefghijklmnopqrstuvwxyz",Se="1f1e6",ce=xe.split("").reduce((t,e,r)=>({...t,[e]:ve(Se,r)}),{}),Pe=t=>[ce[t[0]],ce[t[1]]].join("-"),F=({iso2:t,size:e,src:r,protocol:a="https",disableLazyLoading:n,className:i,style:c,...o})=>{if(!t)return ue.createElement("img",{className:v({addPrefix:["flag-emoji"],rawClassNames:[i]}),width:e,height:e,...o});let l=()=>{if(r)return r;let s=Pe(t);return`${a}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${s}.svg`};return ue.createElement("img",{className:v({addPrefix:["flag-emoji"],rawClassNames:[i]}),src:l(),width:e,height:e,draggable:!1,"data-country":t,loading:n?void 0:"lazy",style:{width:e,height:e,...c},alt:"",...o})};import K,{useCallback as J,useEffect as Z,useRef as Q,useState as De}from"react";var ke=1e3,X=({show:t,dialCodePrefix:e="+",selectedCountry:r,countries:a=N,flags:n,onSelect:i,onClose:c,...o})=>{let l=Q(null),s=Q(),p=Q({updatedAt:void 0,value:""}),u=d=>{let m=p.current.updatedAt&&new Date().getTime()-p.current.updatedAt.getTime()>ke;p.current={value:m?d:`${p.current.value}${d}`,updatedAt:new Date};let h=a.findIndex(S=>D(S).name.toLowerCase().startsWith(p.current.value));h!==-1&&b(h)},x=J(d=>a.findIndex(m=>D(m).iso2===d),[a]),[C,b]=De(x(r)),f=()=>{s.current!==r&&b(x(r))},g=J(d=>{b(x(d.iso2)),i?.(d)},[i,x]),k=d=>{let m=a.length-1,h=S=>d==="prev"?S-1:d==="next"?S+1:d==="last"?m:0;b(S=>{let z=h(S);return z<0?0:z>m?m:z})},I=d=>{if(d.stopPropagation(),d.key==="Enter"){d.preventDefault();let m=D(a[C]);g(m);return}if(d.key==="Escape"){c?.();return}if(d.key==="ArrowUp"){d.preventDefault(),k("prev");return}if(d.key==="ArrowDown"){d.preventDefault(),k("next");return}if(d.key==="PageUp"){d.preventDefault(),k("first");return}if(d.key==="PageDown"){d.preventDefault(),k("last");return}d.key===" "&&d.preventDefault(),d.key.length===1&&!d.altKey&&!d.ctrlKey&&!d.metaKey&&u(d.key.toLocaleLowerCase())},L=J(()=>{if(!l.current||C===void 0)return;let d=D(a[C]).iso2;if(d===s.current)return;let m=l.current.querySelector(`[data-country="${d}"]`);m&&(ie(l.current,m),s.current=d)},[C,a]);return Z(()=>{L()},[C,L]),Z(()=>{l.current&&(t?l.current.focus():f())},[t]),Z(()=>{f()},[r]),K.createElement("ul",{ref:l,role:"listbox",className:v({addPrefix:["country-selector-dropdown"],rawClassNames:[o.className]}),style:{display:t?"block":"none",...o.style},onKeyDown:I,onBlur:c,tabIndex:-1,"aria-activedescendant":`${D(a[C]).iso2}-option`},a.map((d,m)=>{let h=D(d),S=h.iso2===r,z=m===C,W=n?.find(U=>U.iso2===h.iso2);return K.createElement("li",{key:h.iso2,"data-country":h.iso2,role:"option","aria-selected":S,"aria-label":`${h.name} ${e}${h.dialCode}`,id:`${h.iso2}-option`,className:v({addPrefix:["country-selector-dropdown__list-item",S&&"country-selector-dropdown__list-item--selected",z&&"country-selector-dropdown__list-item--focused"],rawClassNames:[o.listItemClassName]}),onClick:()=>g(h),style:o.listItemStyle},K.createElement(F,{iso2:h.iso2,src:W?.src,className:v({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[o.listItemFlagClassName]}),style:o.listItemFlagStyle}),K.createElement("span",{className:v({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[o.listItemCountryNameClassName]}),style:o.listItemCountryNameStyle},h.name),K.createElement("span",{className:v({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[o.listItemDialCodeClassName]}),style:o.listItemDialCodeStyle},e,h.dialCode))}))};var Y=({selectedCountry:t,onSelect:e,disabled:r,hideDropdown:a,countries:n=N,flags:i,renderButtonWrapper:c,...o})=>{let[l,s]=Me(!1),p=Ne(()=>{if(t)return M({value:t,field:"iso2",countries:n})},[n,t]),u=Ie(null),x=b=>{b.key&&["ArrowUp","ArrowDown"].includes(b.key)&&(b.preventDefault(),s(!0))},C=()=>{let b={title:p?.name,onClick:()=>s(g=>!g),onMouseDown:g=>g.preventDefault(),onKeyDown:x,disabled:a||r,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":l},f=j.createElement("div",{className:v({addPrefix:["country-selector-button__button-content"],rawClassNames:[o.buttonContentWrapperClassName]}),style:o.buttonContentWrapperStyle},j.createElement(F,{iso2:t,src:i?.find(g=>g.iso2===t)?.src,className:v({addPrefix:["country-selector-button__flag-emoji",r&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[o.flagClassName]}),style:{visibility:t?"visible":"hidden",...o.flagStyle}}),!a&&j.createElement("div",{className:v({addPrefix:["country-selector-button__dropdown-arrow",r&&"country-selector-button__dropdown-arrow--disabled",l&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[o.dropdownArrowClassName]}),style:o.dropdownArrowStyle}));return c?c({children:f,rootProps:b}):j.createElement("button",{...b,type:"button",className:v({addPrefix:["country-selector-button",l&&"country-selector-button--active",r&&"country-selector-button--disabled",a&&"country-selector-button--hide-dropdown"],rawClassNames:[o.buttonClassName]}),"data-country":t,style:o.buttonStyle},f)};return j.createElement("div",{className:v({addPrefix:["country-selector"],rawClassNames:[o.className]}),style:o.style,ref:u},C(),j.createElement(X,{show:l,countries:n,flags:i,onSelect:b=>{s(!1),e?.(b)},selectedCountry:t,onClose:()=>{s(!1)},...o.dropdownStyleProps}))};import Re from"react";var ee=({dialCode:t,prefix:e,disabled:r,style:a,className:n})=>Re.createElement("div",{className:v({addPrefix:["dial-code-preview",r&&"dial-code-preview--disabled"],rawClassNames:[n]}),style:a},`${e}${t}`);import V,{useMemo as ze}from"react";import{useEffect as ye,useMemo as Te,useRef as Le,useState as Ee}from"react";import{useState as te}from"react";import{useRef as pe}from"react";var me=()=>{let t=pe(),e=pe(Date.now());return{check:()=>{let a=Date.now(),n=t.current?a-e.current:void 0;return t.current=e.current,e.current=a,n}}};var _e={size:20,overrideLastItemDebounceMS:-1};function fe(t,e){let{size:r,overrideLastItemDebounceMS:a,onChange:n}={..._e,...e},[i,c]=te(t),[o,l]=te([i]),[s,p]=te(0),u=me();return[i,(f,g)=>{if(typeof f=="object"&&Object.entries(f).toString()===Object.entries(i).toString()||f===i)return;let k=a>0,I=u.check(),L=k&&I!==void 0?I>a:!0;if(g?.overrideLastItem!==void 0?g.overrideLastItem:!L)l(m=>[...m.slice(0,s),f]);else{let m=o.length>=r;l(h=>[...h.slice(m?1:0,s+1),f]),m||p(h=>h+1)}c(f),n?.(f)},()=>{if(s<=0)return{success:!1};let f=o[s-1];return c(f),p(g=>g-1),n?.(f),{success:!0,value:f}},()=>{if(s+1>=o.length)return{success:!1};let f=o[s+1];return c(f),p(g=>g+1),n?.(f),{success:!0,value:f}}]}var Ae=".",R={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,countries:N},re=({defaultCountry:t=R.defaultCountry,value:e=R.value,countries:r=R.countries,prefix:a=R.prefix,defaultMask:n=R.defaultMask,charAfterDialCode:i=R.charAfterDialCode,historySaveDebounceMS:c=R.historySaveDebounceMS,disableCountryGuess:o=R.disableCountryGuess,disableDialCodePrefill:l=R.disableDialCodePrefill,forceDialCode:s=R.forceDialCode,disableDialCodeAndPrefix:p=R.disableDialCodeAndPrefix,onChange:u})=>{let x=p?!1:!o,C=Le(null),b=({value:y,country:w,trimNonDigitsEnd:P,insertDialCodeOnEmpty:_,forceDisableCountryGuess:T})=>{let B=!T&&x?O({phone:y,countries:r,currentCountryIso2:w.iso2}):void 0,A=B?.country??w;return{phone:A?le(y,{prefix:a,mask:A.format||n,maskChar:Ae,dialCode:A.dialCode,trimNonDigitsEnd:P,charAfterDialCode:i,forceDialCode:s,insertDialCodeOnEmpty:_,disableDialCodeAndPrefix:p}):y,countryGuessResult:B,formatCountry:A}},f=y=>{Promise.resolve().then(()=>{C.current?.setSelectionRange(y,y)})},[{phone:g,country:k},I,L,d]=fe(()=>{let w=(p?null:O({phone:e,countries:r,currentCountryIso2:t}))?.country||M({value:t,field:"iso2",countries:r});w||console.error(`[react-international-phone]: can not find a country with "${t}" iso2 code`);let P=w||D(r.find(T=>D(T).iso2==="us")),_=b({value:e,country:P,insertDialCodeOnEmpty:!l}).phone;return f(_.length),{phone:_,country:P.iso2}},{overrideLastItemDebounceMS:c,onChange:u}),m=Te(()=>M({value:k,field:"iso2",countries:r}),[r,k]),h=(y,{deletion:w,cursorPosition:P,insertDialCodeOnEmpty:_,inserted:T}={})=>{let E=y,B=P;s&&!p&&m&&!$(y).startsWith(m.dialCode)&&y&&(T&&y.startsWith(a)&&y.length-(P??0)===0?E=y:(E=g,B=0));let{phone:A,countryGuessResult:G}=b({value:E,country:m,trimNonDigitsEnd:w==="backward",insertDialCodeOnEmpty:_,forceDisableCountryGuess:s&&!!w&&$(E).length<m.dialCode.length}),oe=m;x&&G?.country&&G.country.name!==k&&G.fullDialCodeMatch&&(oe=G.country);let Ce=de({cursorPositionAfterInput:B??0,phoneBeforeInput:g,phoneAfterInput:y,phoneAfterFormatted:A,leftOffset:s?a.length+(m?.dialCode?.length??0)+i.length:0,deletion:w});return I({phone:A,country:oe.iso2}),f(Ce),A};ye(()=>{let y=C.current;if(!y)return;let w=P=>{if(!P.key)return;let _=P.ctrlKey,T=P.shiftKey,E=P.key.toLowerCase()==="z";!_||!E||(T?d():L())};return y.addEventListener("keydown",w),()=>{y.removeEventListener("keydown",w)}},[C,L,d]);let S=y=>{y.preventDefault();let w=y.nativeEvent.inputType,P=()=>{if(w?.toLocaleLowerCase().includes("delete")??!1)return w?.toLocaleLowerCase().includes("forward")?"forward":"backward"},_=w?.startsWith("insertFrom"),T=h(y.target.value,{deletion:P(),inserted:_,cursorPosition:y.target.selectionStart??0});return p&&m?se({phone:T,dialCode:m.dialCode,charAfterDialCode:i,prefix:a}):T},z=y=>{let w=M({value:y,field:"iso2",countries:r});if(!w)return;let P=p?"":`${a}${w.dialCode}${i}`;I({phone:P,country:w.iso2}),Promise.resolve().then(()=>{C.current?.focus()})},[W,U]=Ee(!1);return ye(()=>{if(!W){U(!0),e!==g&&u?.({phone:g,country:k});return}e!==g&&h(e)},[e]),{phone:g,country:k,setCountry:z,handlePhoneValueChange:S,inputRef:C}};var $e=({hideDropdown:t,placeholder:e,disabled:r,showDisabledDialCodeAndPrefix:a,inputProps:n,flags:i,onChange:c,style:o,className:l,inputStyle:s,inputClassName:p,countrySelectorStyleProps:u,dialCodePreviewStyleProps:x,value:C,countries:b=N,...f})=>{let{phone:g,inputRef:k,country:I,setCountry:L,handlePhoneValueChange:d}=re({value:C,countries:b,...f,onChange:S=>{c?.(S.phone,S.country)}}),m=ze(()=>{if(I)return M({value:I,field:"iso2",countries:b})},[b,I]),h=f.disableDialCodeAndPrefix&&a&&m?.dialCode;return V.createElement("div",{className:v({addPrefix:["input-container"],rawClassNames:[l]}),style:o},V.createElement(Y,{onSelect:S=>L(S.iso2),flags:i,selectedCountry:I,countries:b,disabled:r,hideDropdown:t,...u}),h&&V.createElement(ee,{dialCode:m.dialCode,prefix:f.prefix??"+",disabled:r,...x}),V.createElement("input",{onChange:d,value:g,type:"tel",ref:k,className:v({addPrefix:["input",r&&"input--disabled"],rawClassNames:[p]}),placeholder:e,disabled:r,style:s,...n}))};export{Y as CountrySelector,X as CountrySelectorDropdown,ee as DialCodePreview,F as FlagEmoji,$e as PhoneInput,be as buildCountryData,N as defaultCountries,M as getCountry,O as guessCountryByPartialPhoneNumber,D as parseCountry,q as removeDialCode,re as usePhoneInput};
